<!DOCTYPE html><html><head><meta charset='UTF-8'><title>Performance Analysis</title></head><body><h1>Performance Analysis</h1><select id='term'><option>Term 1</option><option>Term 2</option></select><select id='grade'><option>Grade 7</option><option>Grade 8</option><option>Grade 9</option></select><button onclick='analyze()'>Analyze</button><div id='output'></div><script>const learners=JSON.parse(localStorage.getItem('learners')||'[]');const marks=JSON.parse(localStorage.getItem('marks')||'{}');const subjects=['Math','English','Science'];function analyze(){const g=grade.value,t=term.value;const data=learners.filter(l=>l.grade===g).map(l=>{let total=0;subjects.forEach(s=>total+=Number(marks?.[g]?.[t]?.[s]?.[l.no]||0));return{name:l.name,gender:l.gender,total}});const sorted=[...data].sort((a,b)=>b.total-a.total);const males=data.filter(d=>d.gender==='Male');const females=data.filter(d=>d.gender==='Female');let html=`<h3>Top 5</h3><ol>${sorted.slice(0,5).map(d=>`<li>${d.name} - ${d.total}</li>`).join('')}</ol>`;html+=`<h3>Bottom 5</h3><ol>${sorted.slice(-5).map(d=>`<li>${d.name} - ${d.total}</li>`).join('')}</ol>`;html+=`<p><strong>Gender Stats</strong><br>Total Learners: ${data.length}<br>Male: ${males.length}<br>Female: ${females.length}</p>`;output.innerHTML=html}</script></body></html>